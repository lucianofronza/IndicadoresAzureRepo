# üìä Indicadores Azure Repos

[![CI/CD Pipeline](https://github.com/lucianofronza/IndicadoresAzureRepo/workflows/CI%2FCD%20Pipeline/badge.svg)](https://github.com/lucianofronza/IndicadoresAzureRepo/actions/workflows/ci.yml)
[![Code Quality](https://github.com/lucianofronza/IndicadoresAzureRepo/workflows/Code%20Quality/badge.svg)](https://github.com/lucianofronza/IndicadoresAzureRepo/actions/workflows/code-quality.yml)
[![Tests](https://img.shields.io/badge/tests-51%20passing-brightgreen)](./TESTING.md)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

Uma aplica√ß√£o web fullstack para an√°lise de indicadores individuais de desenvolvedores a partir do Azure Repos (Azure DevOps), com foco em observabilidade, seguran√ßa e escalabilidade horizontal.

## üìñ √çndice

- [üöÄ Funcionalidades](#-funcionalidades)
- [üèóÔ∏è Arquitetura](#Ô∏è-arquitetura)
- [üìã Pr√©-requisitos](#-pr√©-requisitos)
- [üõ†Ô∏è Instala√ß√£o](#Ô∏è-instala√ß√£o)
- [üîê Configura√ß√£o Azure DevOps](#-configura√ß√£o-azure-devops)
- [üöÄ Deploy em Produ√ß√£o](#-deploy-em-produ√ß√£o)
- [üìä Uso da Aplica√ß√£o](#-uso-da-aplica√ß√£o)
- [üß™ Testes e Qualidade](#-testes-e-qualidade)
- [üìö Documenta√ß√£o T√©cnica](#-documenta√ß√£o-t√©cnica)
- [üîß Desenvolvimento](#-desenvolvimento)
- [üìà Monitoramento](#-monitoramento)
- [ü§ù Contribui√ß√£o](#-contribui√ß√£o)
- [üìÑ Licen√ßa](#-licen√ßa)

## üöÄ Funcionalidades

### üìà Dashboard de Indicadores
- **Pull Requests**: An√°lise de status, cycle time, tempo de review
- **Commits**: Contagem e an√°lise por desenvolvedor
- **Reviews**: M√©tricas de reviews realizados e recebidos
- **Comments**: An√°lise de intera√ß√µes e feedback
- **Files Changed**: Estat√≠sticas de altera√ß√µes de arquivos
- **Cycle Time**: Tempo m√©dio de abertura at√© merge
- **Lead Time**: Tempo para primeira review

### üîß Configura√ß√£o
- **CRUD de Desenvolvedores**: Gerenciamento completo de desenvolvedores
- **CRUD de Times**: Organiza√ß√£o por equipes
- **CRUD de Cargos**: Defini√ß√£o de roles e responsabilidades
- **CRUD de Stacks**: Tecnologias utilizadas
- **CRUD de Reposit√≥rios**: Configura√ß√£o de fontes Azure DevOps

### üîÑ Sincroniza√ß√£o
- **Sincroniza√ß√£o Manual**: Bot√£o "Sync now" para cada reposit√≥rio
- **Sincroniza√ß√£o Inteligente**: Completa para reposit√≥rios nunca sincronizados, incremental para os demais
- **Idempot√™ncia**: Processamento seguro sem duplica√ß√£o
- **Pagina√ß√£o**: Suporte a grandes volumes de dados
- **Rate Limiting**: Respeito aos limites da API Azure DevOps

### üîê Integra√ß√£o Azure DevOps
- **Personal Access Token**: Autentica√ß√£o por reposit√≥rio com PAT criptografado
- **Configura√ß√£o por Reposit√≥rio**: Cada reposit√≥rio pode ter seu pr√≥prio token
- **Acesso a Reposit√≥rios**: Leitura de dados de m√∫ltiplos projetos
- **Valida√ß√£o de Conex√£o**: Verifica√ß√£o autom√°tica de credenciais

## üèóÔ∏è Arquitetura

### Frontend
- **React 18** com TypeScript
- **Vite** para build e desenvolvimento
- **Tailwind CSS** para estiliza√ß√£o
- **React Query** para gerenciamento de estado
- **Recharts** para visualiza√ß√µes
- **React Router** para navega√ß√£o
- **Lucide React** para √≠cones

### Backend
- **Node.js** com TypeScript
- **Express.js** como framework web
- **Prisma ORM** para acesso ao banco
- **PostgreSQL** como banco de dados
- **Redis** para cache e sess√µes
- **Zod** para valida√ß√£o

### Infraestrutura
- **Docker** para containeriza√ß√£o
- **Kubernetes** para orquestra√ß√£o
- **Prometheus** para m√©tricas
- **Grafana** para dashboards
- **OpenTelemetry** para tracing
- **Helm** para deployment (opcional)

## üìã Pr√©-requisitos

- Node.js 20+
- Docker e Docker Compose
- PostgreSQL 14+
- Redis 7+
- Azure DevOps Personal Access Token
- Kubernetes cluster (para produ√ß√£o)

## üõ†Ô∏è Instala√ß√£o

### 1. Clone o reposit√≥rio
```bash
git clone https://github.com/lucianofronza/IndicadoresAzureRepo.git
cd IndicadoresAzureRepo
```

### 2. Configura√ß√£o do Ambiente

#### Backend
```bash
cd backend
# Para desenvolvimento local, use as mesmas vari√°veis do Docker
# Copie o arquivo de exemplo e configure conforme necess√°rio
cp ../env.docker.example .env
```

#### Frontend
```bash
cd frontend
# O frontend n√£o precisa de arquivo .env para desenvolvimento local
# O Vite configura automaticamente o proxy para /api -> http://localhost:8080/api
# A aplica√ß√£o roda em http://localhost:5173 por padr√£o
```

### 3. Instala√ß√£o das Depend√™ncias

#### Backend
```bash
cd backend
npm install
npm run db:generate
npm run db:migrate
npm run db:seed
```

#### Frontend
```bash
cd frontend
npm install
```

### 4. Execu√ß√£o com Docker Compose

#### Configura√ß√£o Inicial
```bash
# Copiar arquivo de exemplo de vari√°veis de ambiente
cp env.docker.example .env.docker

# Editar as vari√°veis obrigat√≥rias
nano .env.docker
```

**Vari√°veis obrigat√≥rias no `.env.docker`:**
```env
POSTGRES_PASSWORD=your_secure_password_here
ENCRYPTION_KEY=your_32_character_encryption_key
```

**Gera√ß√£o da ENCRYPTION_KEY:**
```bash
# Gerar chave de 32 caracteres
openssl rand -base64 24
```

#### Ambientes Dispon√≠veis

**üõ†Ô∏è Desenvolvimento Local (Recomendado):**
```bash
# Apenas banco em containers, apps rodam localmente
./scripts/dev-local.sh
```
*Ideal para desenvolvimento: m√°ximo performance e hot-reload*

**üê≥ Desenvolvimento com Containers (Legado):**
```bash
# Tudo em containers (mais lento para desenvolvimento)
./scripts/docker-dev.sh
```
*√ötil para testar configura√ß√µes de containers*

**üß™ Staging/Homologa√ß√£o:**
```bash
# Ambiente de teste similar √† produ√ß√£o
./scripts/docker-staging.sh
```
*Para testes de integra√ß√£o e homologa√ß√£o*

**üöÄ Produ√ß√£o:**
```bash
# Ambiente de produ√ß√£o otimizado
./scripts/docker-start.sh
```
*Para deploy em produ√ß√£o*

#### Estrutura dos Arquivos Docker Compose

Todos os arquivos Docker Compose est√£o organizados na raiz do projeto:

| Arquivo | Ambiente | Prop√≥sito |
|---------|----------|-----------|
| `docker-compose.yml` | Produ√ß√£o | Ambiente de produ√ß√£o otimizado |
| `docker-compose.dev.yml` | Desenvolvimento | Hot-reload e volumes montados |
| `docker-compose.staging.yml` | Staging | Ambiente de teste similar √† produ√ß√£o |

#### Execu√ß√£o Manual (Produ√ß√£o)
```bash
# Validar vari√°veis de ambiente
./scripts/validate-env.sh

# Iniciar servi√ßos de produ√ß√£o
docker-compose up -d
```

A aplica√ß√£o estar√° dispon√≠vel em:
- Frontend: http://localhost:5173 (configur√°vel via FRONTEND_PORT)
- Backend API: http://localhost:8080 (configur√°vel via BACKEND_PORT)
- Health Check: http://localhost:8080/healthz

### 5. Desenvolvimento Local (Recomendado)

Para desenvolvimento, recomendamos usar apenas os servi√ßos de banco em containers e rodar as aplica√ß√µes localmente para m√°xima performance.

#### Configura√ß√£o R√°pida
```bash
# 1. Subir apenas banco de dados
./scripts/dev-local.sh

# 2. Em terminal separado - Backend
cd backend && npm run dev

# 3. Em terminal separado - Frontend
cd frontend && npm run dev
```

#### Vantagens do Desenvolvimento Local
- **‚ö° Velocidade**: Hot-reload instant√¢neo sem rebuild de containers
- **üêõ Debugging**: Logs diretos e breakpoints funcionais
- **üîß Flexibilidade**: F√°cil de parar/iniciar apenas as aplica√ß√µes
- **üíæ Persist√™ncia**: Dados do banco preservados entre restarts

#### Execu√ß√£o Manual (Alternativa)
```bash
# Backend
cd backend
npm install
npm run dev

# Frontend
cd frontend
npm install
npm run dev
```

## üîê Configura√ß√£o Azure DevOps

### 1. Criar Personal Access Token

1. Acesse [Azure DevOps](https://dev.azure.com)
2. V√° em **User Settings** (canto superior direito) > **Personal access tokens**
3. Clique em **New Token**
4. Configure as permiss√µes:
   - **Code (Read)**: Para acessar reposit√≥rios e pull requests
   - **Work Items (Read)**: Para acessar work items relacionados
   - **Project and Team (Read)**: Para acessar informa√ß√µes de projetos e times
5. Defina o escopo para sua organiza√ß√£o
6. Copie o token gerado

### 2. Configurar na Aplica√ß√£o

**IMPORTANTE**: As credenciais do Azure DevOps agora s√£o configuradas por reposit√≥rio na aplica√ß√£o, n√£o mais via vari√°veis de ambiente.

1. **Acesse**: http://localhost:5173/azure-devops
2. **Configure**: Informe a organiza√ß√£o e token para cada reposit√≥rio
3. **Adicione**: Selecione os reposit√≥rios para monitorar

### 3. Configura√ß√£o de Reposit√≥rios

1. **V√° em**: http://localhost:5173/repositories
2. **Edite**: Cada reposit√≥rio pode ter seu pr√≥prio token
3. **Gerencie**: Tokens s√£o criptografados no banco de dados

## üöÄ Deploy em Produ√ß√£o

### 1. Configura√ß√£o do Kubernetes

```bash
# Aplicar namespace
kubectl apply -f infra/k8s/namespace.yaml

# Aplicar secrets (configure os valores primeiro)
kubectl apply -f infra/k8s/secret.yaml

# Aplicar configmap
kubectl apply -f infra/k8s/configmap.yaml

# Aplicar deployments
kubectl apply -f infra/k8s/deployment-backend.yaml
kubectl apply -f infra/k8s/deployment-frontend.yaml
kubectl apply -f infra/k8s/deployment-redis.yaml

# Aplicar services
kubectl apply -f infra/k8s/service-backend.yaml
kubectl apply -f infra/k8s/service-frontend.yaml
kubectl apply -f infra/k8s/service-redis.yaml

# Aplicar ingress
kubectl apply -f infra/k8s/ingress.yaml

# Aplicar HPA (Horizontal Pod Autoscaler)
kubectl apply -f infra/k8s/hpa-backend.yaml
kubectl apply -f infra/k8s/hpa-frontend.yaml
```

## üìä Uso da Aplica√ß√£o

### 1. Configura√ß√£o Inicial

1. **Acesse a aplica√ß√£o**: http://localhost:5173
2. **Configure Times**: V√° em "Times" e adicione suas equipes
3. **Configure Cargos**: V√° em "Cargos" e adicione os roles da empresa
4. **Configure Stacks**: V√° em "Stacks" e adicione as tecnologias utilizadas
5. **Configure Reposit√≥rios**: V√° em "Reposit√≥rios" e adicione os reposit√≥rios Azure DevOps

### 2. Sincroniza√ß√£o de Dados

1. **Sincroniza√ß√£o Manual**: V√° em "Sincroniza√ß√£o" e clique em "Sync now" para cada reposit√≥rio
2. **Verifica√ß√£o**: Os dados aparecer√£o no Dashboard ap√≥s a sincroniza√ß√£o

### 3. An√°lise de Indicadores

1. **Dashboard**: Visualize m√©tricas gerais e gr√°ficos
2. **Filtros**: Use os filtros por data, time, cargo, etc.
3. **Detalhamento**: Clique nos gr√°ficos para mais detalhes

## üß™ Testes e Qualidade

### Vis√£o Geral dos Testes

Este projeto possui uma suite abrangente de testes para garantir qualidade e confiabilidade:

```
‚úÖ Testes Unit√°rios:      33 testes (100% passando)
‚ö†Ô∏è  Testes de Integra√ß√£o:  8 testes (estrutura criada)
‚ö†Ô∏è  Testes de Middleware:  10 testes (50% passando)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
   TOTAL:                51 testes
```

### Executar Testes

#### Todos os Testes
```bash
cd backend
npm test
```

#### Testes Espec√≠ficos
```bash
# Por arquivo
npm test -- authService.test.ts

# Por padr√£o
npm test -- --testPathPattern=services

# Por nome
npm test -- --testNamePattern="deve criar usu√°rio"
```

#### Modo Watch (Desenvolvimento)
```bash
npm test -- --watch
```

#### Cobertura de C√≥digo
```bash
npm test -- --coverage

# Abrir relat√≥rio HTML
open coverage/lcov-report/index.html
```

### Estrutura de Testes

```
backend/src/tests/
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authService.test.ts       # ‚úÖ 13 testes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ syncService.test.ts       # ‚úÖ 7 testes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repositoryService.test.ts # ‚úÖ 13 testes
‚îÇ   ‚îî‚îÄ‚îÄ middlewares/
‚îÇ       ‚îî‚îÄ‚îÄ auth.test.ts              # ‚ö†Ô∏è 10 testes (5/10)
‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îú‚îÄ‚îÄ auth.test.ts                  # ‚ö†Ô∏è 6 testes
‚îÇ   ‚îî‚îÄ‚îÄ sync.test.ts                  # ‚ö†Ô∏è 2 testes
‚îî‚îÄ‚îÄ setup.ts
```

### Tipos de Testes

#### 1. Testes Unit√°rios
Testam fun√ß√µes e m√©todos isoladamente com mocks de depend√™ncias.

**Exemplo:**
```typescript
describe('AuthService', () => {
  it('deve criar um novo usu√°rio com sucesso', async () => {
    const userData = {
      name: 'Test User',
      email: 'test@example.com',
      password: 'Password123!'
    };
    
    const result = await authService.register(userData);
    
    expect(result).toHaveProperty('id');
    expect(result.email).toBe(userData.email);
  });
});
```

#### 2. Testes de Integra√ß√£o
Testam a integra√ß√£o entre componentes (rotas + middlewares + servi√ßos).

**Exemplo:**
```typescript
describe('POST /api/auth/register', () => {
  it('deve registrar um novo usu√°rio', async () => {
    const response = await request(app)
      .post('/api/auth/register')
      .send(userData)
      .expect(201);
    
    expect(response.body.success).toBe(true);
  });
});
```

#### 3. Testes de Middleware
Testam a l√≥gica de middlewares (autentica√ß√£o, permiss√µes, erros).

**Exemplo:**
```typescript
describe('requireAuth', () => {
  it('deve retornar 401 sem token', async () => {
    await requireAuth(mockRequest, mockResponse, mockNext);
    
    expect(mockResponse.status).toHaveBeenCalledWith(401);
  });
});
```

### Cobertura de C√≥digo

**Metas de Cobertura:**
- Services: ‚â• 80%
- Middlewares: ‚â• 70%
- Routes: ‚â• 60%

**Visualizar Cobertura:**
```bash
npm test -- --coverage
```

### CI/CD (Planejado)

Os testes ser√£o executados automaticamente em:
- ‚úÖ Push para qualquer branch
- ‚úÖ Pull Requests
- ‚úÖ Deploy para staging/produ√ß√£o

### Documenta√ß√£o de Testes

Para mais detalhes sobre como escrever e executar testes, consulte:
- üìñ [TESTING.md](./TESTING.md) - Guia completo de testes
- üèóÔ∏è [ARCHITECTURE.md](./ARCHITECTURE.md) - Arquitetura do sistema
- üì° [API.md](./API.md) - Documenta√ß√£o da API

## üìö Documenta√ß√£o T√©cnica

Este projeto possui documenta√ß√£o t√©cnica abrangente para facilitar o entendimento, desenvolvimento e manuten√ß√£o:

### üìã Documentos Dispon√≠veis

#### üèóÔ∏è [ARCHITECTURE.md](./ARCHITECTURE.md)
Documenta√ß√£o completa da arquitetura do sistema:
- **Vis√£o Geral**: Stack tecnol√≥gica e objetivos
- **Arquitetura de Alto N√≠vel**: Diagramas e componentes
- **Componentes Detalhados**: Frontend, Backend, Sync Service
- **Fluxos de Dados**: 5 fluxos principais documentados
  - Autentica√ß√£o de usu√°rio
  - Autentica√ß√£o Azure AD
  - Sincroniza√ß√£o manual
  - Sincroniza√ß√£o autom√°tica (scheduler)
  - Consulta de KPIs
- **Decis√µes Arquiteturais**: 6 decis√µes importantes explicadas
  - Separa√ß√£o do Sync Service
  - Criptografia de tokens
  - JWT + Refresh tokens
  - View Scope (visibilidade de dados)
  - Sincroniza√ß√£o incremental
  - Idempot√™ncia de sync
- **Seguran√ßa**: Autentica√ß√£o, autoriza√ß√£o e prote√ß√µes
- **Escalabilidade**: Estrat√©gias e gargalos identificados
- **Monitoramento**: Logs, m√©tricas e health checks

#### üß™ [TESTING.md](./TESTING.md)
Guia completo de testes do projeto:
- **Estrutura de Testes**: Organiza√ß√£o e tipos
- **Como Executar**: Comandos e op√ß√µes
- **Escrevendo Testes**: Padr√µes e melhores pr√°ticas
  - Testes unit√°rios (33 testes)
  - Testes de integra√ß√£o (8 testes)
  - Testes de middleware (10 testes)
- **Mocking Strategies**: Como usar Jest mocks
- **Cobertura de C√≥digo**: Relat√≥rios e metas
- **Debugging**: Ferramentas e t√©cnicas
- **CI/CD**: Integra√ß√£o cont√≠nua (planejado)

#### üì° [API.md](./API.md)
Documenta√ß√£o completa da API REST:
- **Autentica√ß√£o**: JWT e refresh tokens
- **Formato de Resposta**: Padr√µes e estrutura
- **Endpoints Completos**:
  - üîê Auth (6 endpoints)
  - üì¶ Repositories (6 endpoints)
  - üîÑ Sync (9 endpoints)
  - üìä KPIs (1 endpoint)
  - üë• Users (1+ endpoints)
- **C√≥digos de Erro**: Tabela completa
- **Rate Limiting**: Limites e headers
- **Exemplos**: Requisi√ß√µes e respostas

### üéØ Como Usar a Documenta√ß√£o

**Para Novos Desenvolvedores:**
1. Comece com [ARCHITECTURE.md](./ARCHITECTURE.md) para entender o sistema
2. Leia [TESTING.md](./TESTING.md) para contribuir com testes
3. Consulte [API.md](./API.md) para integra√ß√£o

**Para Desenvolvimento:**
1. Use [API.md](./API.md) como refer√™ncia de endpoints
2. Siga [TESTING.md](./TESTING.md) ao escrever novos testes
3. Consulte [ARCHITECTURE.md](./ARCHITECTURE.md) para decis√µes arquiteturais

**Para Deploy:**
1. Revise [ARCHITECTURE.md](./ARCHITECTURE.md) se√ß√£o de Deploy
2. Configure conforme [instala√ß√£o](#Ô∏è-instala√ß√£o)
3. Implemente [monitoramento](#-monitoramento)

## üîß Desenvolvimento

### Troubleshooting de Desenvolvimento

#### Problemas Comuns

**Backend n√£o conecta ao banco:**
```bash
# Verificar se PostgreSQL est√° rodando
docker-compose --env-file .env.docker -f docker-compose.dev.yml ps

# Verificar logs do PostgreSQL
docker-compose --env-file .env.docker -f docker-compose.dev.yml logs postgres
```

**Frontend n√£o conecta ao backend:**
```bash
# Verificar se backend est√° rodando na porta 8080
curl http://localhost:8080/healthz

# Verificar se proxy est√° configurado no Vite
# O frontend deve fazer proxy de /api para http://localhost:8080/api
```

**Depend√™ncias desatualizadas:**
```bash
# Backend
cd backend && rm -rf node_modules package-lock.json && npm install

# Frontend
cd frontend && rm -rf node_modules package-lock.json && npm install
```

**Reset completo do ambiente:**
```bash
# Parar todos os servi√ßos
docker-compose --env-file .env.docker -f docker-compose.dev.yml down -v

# Remover volumes (cuidado: perde dados)
docker volume rm indicadoresazurerepo_postgres_data_dev indicadoresazurerepo_redis_data_dev

# Reiniciar
./scripts/dev-local.sh
```

### Estrutura do Projeto

```
‚îú‚îÄ‚îÄ frontend/           # Aplica√ß√£o React
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/ # Componentes reutiliz√°veis
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/      # P√°ginas da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/   # Servi√ßos de API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/      # Defini√ß√µes de tipos
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ backend/            # API Node.js
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/     # Rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/   # L√≥gica de neg√≥cio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/ # Middlewares
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config/     # Configura√ß√µes
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ infra/              # Configura√ß√µes de infraestrutura
‚îú‚îÄ‚îÄ scripts/            # Scripts de automa√ß√£o
‚îú‚îÄ‚îÄ docker-compose.yml  # Orquestra√ß√£o de produ√ß√£o
‚îú‚îÄ‚îÄ docker-compose.dev.yml  # Orquestra√ß√£o de desenvolvimento
‚îî‚îÄ‚îÄ docker-compose.staging.yml  # Orquestra√ß√£o de staging
```

### Fluxo de Desenvolvimento

#### 1. Configura√ß√£o Inicial
```bash
# Clone e configure o ambiente
git clone <repository>
cd indicadores-azure-repos
cp env.docker.example .env.docker
# Edite .env.docker com suas configura√ß√µes

# Suba apenas os servi√ßos de banco
./scripts/dev-local.sh
```

#### 2. Desenvolvimento Di√°rio
```bash
# Terminal 1: Backend
cd backend && npm run dev

# Terminal 2: Frontend
cd frontend && npm run dev

# Terminal 3: Logs do banco (opcional)
docker-compose --env-file .env.docker -f docker-compose.dev.yml logs -f
```

#### 3. Testes e Dados
```bash
# Popular banco com dados de teste
cd backend && npm run db:seed

# Popular banco com dados completos
cd backend && npm run db:seed:demo
```

### Scripts √öteis

#### üöÄ Scripts de Desenvolvimento
```bash
# Backend
npm run dev          # Desenvolvimento
npm run build        # Build para produ√ß√£o
npm run db:migrate   # Executar migra√ß√µes
npm run db:seed      # Popular banco com dados b√°sicos
npm run db:seed:demo # Popular banco com dados completos de demonstra√ß√£o

# Frontend
npm run dev          # Desenvolvimento
npm run build        # Build para produ√ß√£o
npm run preview      # Preview da build
```

#### üõ†Ô∏è Scripts de Manuten√ß√£o (Backend)

**Popula√ß√£o de Dados:**
```bash
# Seed b√°sico (estrutura m√≠nima)
cd backend && npm run db:seed

# Seed completo com dados de demonstra√ß√£o
cd backend && npm run db:seed:demo

# Executar seed dentro do container Docker
docker-compose --env-file .env.docker -f docker-compose.dev.yml exec backend npm run db:seed
docker-compose --env-file .env.docker -f docker-compose.dev.yml exec backend npm run db:seed:demo
```

**An√°lise de Desenvolvedores:**
```bash
# Mostrar estat√≠sticas atuais
cd backend && npx tsx scripts/show-developer-stats.ts

# Redistribuir desenvolvedores sem time
cd backend && npx tsx scripts/redistribute-developers.ts

# Reverter redistribui√ß√£o
cd backend && npx tsx scripts/revert-developer-redistribution.ts

# Normalizar nomes de desenvolvedores
cd backend && npx tsx scripts/normalize-developer-names.ts
```

#### üìä Scripts de Docker
```bash
# Produ√ß√£o
./scripts/docker-start.sh

# Desenvolvimento (recomendado)
./scripts/dev-local.sh

# Desenvolvimento (legado - tudo em containers)
./scripts/docker-dev.sh

# Staging/Homologa√ß√£o
./scripts/docker-staging.sh
```

#### üéØ Casos de Uso dos Scripts

**1. Configura√ß√£o Inicial:**
```bash
# Popular banco com dados de demonstra√ß√£o
cd backend && npm run db:seed:demo
```

**2. An√°lise de Dados:**
```bash
# Ver estat√≠sticas dos desenvolvedores
cd backend && npx tsx scripts/show-developer-stats.ts
```

**3. Teste de Gr√°ficos:**
```bash
# Redistribuir desenvolvedores para testar gr√°ficos
cd backend && npx tsx scripts/redistribute-developers.ts

# Reverter ap√≥s teste
cd backend && npx tsx scripts/revert-developer-redistribution.ts
```

**4. Limpeza de Dados:**
```bash
# Normalizar nomes de desenvolvedores
cd backend && npx tsx scripts/normalize-developer-names.ts
```

## üìà Monitoramento

### Health Checks

- **Liveness**: `GET /healthz`
- **Readiness**: `GET /readyz`
- **Metrics**: `GET /metrics`

### Logs

```bash
# Ver logs do backend
docker logs indicadores-backend-new

# Ver logs do frontend
docker logs indicadores-frontend
```

## ü§ù Contribui√ß√£o

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üÜò Suporte

Para suporte, envie um email para suporte@exemplo.com ou abra uma issue no GitHub.
