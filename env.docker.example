# ==============================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# ==============================================
# Copy this file to .env.docker and configure with your actual values

# Database (PostgreSQL)
POSTGRES_DB=indicadores_azure
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-postgres-password-here
POSTGRES_PORT=5432

# Redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Backend
NODE_ENV=production
PORT=8080
BACKEND_PORT=8080
LOG_LEVEL=info

# Frontend
FRONTEND_PORT=5173
FRONTEND_URL=http://localhost:5173

# Health Checks
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Database URL (for services)
DATABASE_URL=postgresql://postgres:your-secure-postgres-password-here@postgres:5432/indicadores_azure

# Redis URL (for services)
REDIS_URL=redis://redis:6379
REDIS_HOST=redis

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Encryption
ENCRYPTION_KEY=your-32-character-secret-key-here!!

# Sync Service Configuration
SYNC_SERVICE_API_KEY=generate-a-uuid-here-for-sync-service
BACKEND_API_KEY=generate-a-uuid-here-for-backend
AZURE_DEVOPS_BASE_URL=https://dev.azure.com
AZURE_RATE_LIMIT_PER_MINUTE=60
AZURE_BURST_LIMIT=10
MAX_CONCURRENT_REPOS=3
DELAY_BETWEEN_REPOS_SECONDS=30
DEFAULT_SYNC_INTERVAL_MINUTES=30
MAX_RETRIES=3
RETRY_DELAY_MINUTES=5
NOTIFICATION_ENABLED=false
NOTIFICATION_EMAILS=

# Azure AD Configuration (Backend)
# Get these values from Azure Portal > App Registrations
AZURE_CLIENT_ID=your-azure-application-client-id
AZURE_CLIENT_SECRET=your-azure-application-client-secret
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_REDIRECT_URI=http://localhost:5173/auth/callback

# Frontend Azure AD Configuration
# Use the same values as backend
VITE_AZURE_CLIENT_ID=your-azure-application-client-id
VITE_AZURE_TENANT_ID=your-azure-tenant-id
VITE_AZURE_REDIRECT_URI=http://localhost:5173/auth/callback
VITE_API_URL=http://localhost:8080/api

# ==============================================
# INSTRUCTIONS
# ==============================================
# 1. Copy this file: cp env.docker.example .env.docker
# 2. Replace all placeholder values with actual credentials
# 3. Generate secure values:
#    - JWT_SECRET: openssl rand -base64 32
#    - ENCRYPTION_KEY: openssl rand -base64 32
#    - API_KEYS: uuidgen or online UUID generator
#    - POSTGRES_PASSWORD: strong password generator
# 4. Never commit .env.docker to git (already in .gitignore)
# 5. For production, use environment-specific values and stronger secrets